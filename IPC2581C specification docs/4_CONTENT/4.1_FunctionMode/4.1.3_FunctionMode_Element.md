# 4.1.3 FunctionMode Element

The FunctionMode element in the IPC-2581 output file serves to indicate what function the file is intended to perform, by referencing the mode that was used from the Function Mode Table (see Table 4) to populate that file’s contents. The element has 4 attributes - mode, level, sectionKey, and comment.

| Attribute / Element Name | Attribute / Element Type | Description | Occurrence |
|-------------------------|-------------------------|-------------|------------|
| FunctionMode            | FunctionModeType        | The function that the file is intended to perform between trading partners. | 1-1 |
| mode                    | modeType                | An enumerated string, either USERDEF | BOM | STACKUP | FABRICATION | ASSEMBLY | TEST | STENCIL, that defines the type of mode that the file is intended to serve. | 1-1 |
| level                   | positiveInteger         | A numerical value, fixed at 1. For backward compatibility purposes only. This attribute will be removed in revision C | 1-1 |
| sectionKey              | sectionKeyType          | A list of alphabetic characters that is equal to, or a subset of, the enumerated list “ABCDEFGIKLMOPRSUXY”. Each character in the list represents a schema section that is included in the output file. Refer to Table 4 for the key to schema section mapping. So if a schema section is omitted from the output file, to comply with a given function mode, then its corresponding character is removed from the sectionKey list. | 0-1 |
| comment                 | string                  | Any appropriate comment to help clarify the intended use of the file. | 0-1 |

## 4.1.3.1 Mode
The FunctionMode element has four attributes, the first of which is mode. There are seven valid values for the mode attribute. These are: USERDEF, BOM, STACKUP, FABRICATION, ASSEMBLY, TEST, and STENCIL. Refer to section 0 for a description of the purpose of each of these modes.

Note that, with the options available, it is possible to include the TEST or STENCIL mode as a subset of the ASSEMBLY mode. This will allow receiving companies who cater for both assembly and test, or assembly and stencil, or all three, to receive a single file. Nevertheless, other companies wish to outsource the test and/or stencil activities separately. Therefore it is important to have separate modes for these activities.

## 4.1.3.2 Level
In previous revisions of this document each mode in the FunctionMode table was further divided into 3 levels, and so a second attribute, level (a positive integer from 1 to 3) was defined for the FunctionMode element to support this. In this revision amendment the levels per mode have been reduced to one, to simplify the table, effectively making the level attribute redundant. However the level attribute is retained, for backward compatibility purposes only, and must be fixed at the value ‘1’. It will be removed in the next revision.

## 4.1.3.3 SectionKey
The sectionKey attribute is a string that can precisely indicate which schema sections are included in the output file. So if the indicated mode has options then the receiver will know which of those options are included. It is formed by combining the key characters (as denoted in the first column of Table 4) of each of the included sections into a single string. For example the sectionKey value “KSUMLROIEF” represents the FABRICATION mode with additional dielectric layer and miscellaneous FAB layer options.

## 4.1.3.4 Comment
The attribute comment is optional string data, intended to provide any clarification as to the intended use of the file.