# 8.2.3.7 Component

The Component section contains all the Component elements that were read from the originating CAD system and were captured in the Component element descriptions.

## Attributes

| Attribute /  Element Name | Attribute /  Element Type | Description | Occurrence |
|---|---|---|---|
| Component | ComponentType | A nested element list of component descriptions and their application to the electronic product. | 0-n |
| refDes | qualifiedNameType | A unique name assigned to the particular electrical or mechanical component that is defined in the Bom section | 0-1 |
| matDes | qualifiedNameType | A unique name assigned to the particular material that requires a precise location (e.g. coin or adhesive), that is defined in the Bom section | 0-1 |
| packageRef | qualifiedNameType | A reference to the package Type used to house the component. | 0-1 |
| part | string | A unique identifier of the part, such as OEMDesignNumber | 1-1 |
| layerRef | qualifiedNameType | The reference to a specific layer element, by its “name” attribute.  The layer referenced is to where the component is primarily mounted. The reference is usually a surface layer, however it may be an internal layer for embedded component attachment. The layer Function Type shall be of the Board usage only. | 1-1 |
| layerRefTopside | qualifiedNameType | The reference to a specific layer above an embedded component that any Topside pins connect to. Refer to section 8.2.3.6.5  | 0-1 |
| mountType | mountType | The mount type as defined by an enumerated string which may be one of the following: SMT | THMT | EMBEDDED | PRESSFIT | WIRE_BONDED | GLUED | CLAMPED | SOCKETED | FORMED | OTHER. This attribute can be used to modify the Package description i.e., a through-hole mount modified to be surface mounted. If at least one pin needs to be flow soldered then the component should be considered SMT, so that the pick and place machine can account for it, even though the majority of the other pins are not SMT. | 1-1 |
| modelRef | qualifiedNameType | Reference to a unique 3D model name that represents the component. Model examples include a simplified model of an IC, or a precise model of a copper coin | 0-1 |
| weight | nonNegativeDouble Type | The weight of the particular component in grams. | 0-1 |
| height | nonNegativeDouble Type | The height that the top protrusion of the component body is above the surface of the printed board in units assigned in the CadHeader. | 0-1 |
| standoff | nonNegativeDouble Type | The standoff clearance between the body and the printed board in units assigned in the CadHeader. | 0-1 |
| NonstandardAttribute | NonstandardAttribute Type | A nested element that can be used to provide extra details regarding a particular “component” description in terms of BOOLEAN, DOUBLE, INTEGER, or STRING data. The properties of the NonstandardAttribute become unique due to its’ Name.  | 0-n |
| Xform | XformType | An element that provides the ability to reset the point of origin of a predefined area that can be scaled, mirror imaged or rotated. The image may also be located by the Xform. See 3.3.  | 0-1 |
| Location | LocationType | The location of the component defined by the packageRef or a pre defined standard shape of the Package. The image may have been reorientated by the Xform. | 1-1 |
| SlotCavityRef | SlotCavityRefType | A reference to a unique name of a SlotCavity definition, that has properties and attributes that contribute to the placement of the component. The existence of of SlotCavityRef means that the component is either totally embedded in the PCB or is located at the floor of the an intrusion into the PCB surface | 0-1 |
| SpecRef | SpecRefType | A reference to a unique Spec that pertains to the component instance, such as assembly instructions or mounting requirements. | 0-n |

### 8.2.3.7.1 SlotCavityRef
A child element of Component to reference a unique ID of the SlotCavity in which the component is mounted. The location of the referenced SlotCavity must be related to the location of the Component such that the extents of the component completely, or partially, fit within the feature describing the outline of the slot or cavity.

|  |  |  |  |
|---|---|---|---|
| id | qualifiedNameType | The unique name of a SlotCavity definition | 1-1 |

### 8.2.3.7.2 Embedded Discrete Components
The following describes examples of different placement scenarios for discrete embedded components

#### 8.2.3.7.2.1 Face Down, Not Mirrored
Component IC1 is positioned onto layer L2 and attached by an adhesive. Prepreg layer(s) D2  with a pre-drilled cut out, is placed to form a cavity around IC1. Prepreg D1 is placed on top, which fills in the remainder of the cavity when pressed. The above stackup could form a laminate in the overall stackup, and be described like this:

```xml
                <StackupGroup name=“laminate1” thickness="0.2638" tolPlus="0.0" tolMinus="0.0"> 
<StackupLayer layerOrGroupRef=“L1” thickness="0.0559"> 
                                                </StackupLayer> 
                      <StackupLayer layerOrGroupRef=“D1_2” thickness="0.152"> 
                                                </StackupLayer> 
                      <StackupLayer layerOrGroupRef =“L2” thickness="0.0559"> 
                                                </StackupLayer> 
                </StackupGroup> 
                <StackupGroup name=“inner_prepreg” thickness="0.152" tolPlus="0.0" tolMinus="0.0" > 
                                <CADDataLayerRef layerRef=“D1_2”/> 
                                <StackupLayer layerOrGroupRef=“D1” thickness="0.1015"> 
                                                </StackupLayer> 
                                <StackupLayer layerOrGroupRef=“D2” thickness="0.0505”"> 
                                                </StackupLayer> 
                </StackupGroup> 
```

The component definition could be described:

```xml
<Component refDes="IC1" packageRef="BGA123" layerRef="L2" part="TA46898-0107F1" 
                    mountType="EMBEDDED" standoff="0.0" height="1.1000"> 
          <Xform rotation="0.0" mirror="false"/> 
          <Location x="114.9500" y="37.3750"/> 
        <SlotCavityRef id="D2_CUT"/> 
</Component> 
```

The routing layer for the cavity, say Route_D2, would be defined with a span across only dielectric layer D2:

```xml
<Layer name=“Route_D2” layerFunction=“ROUT” side=“NONE” polarity=“POSITIVE”> 
<Span fromLayer=“D2” toLayer=“D2”/> 
</Layer> 
```

And then the SolotCavity itself would be defined as a LayerFeature->Set of the route layer  

```xml
<SlotCavity name=“D2_CUT” platingStatus=“NONPLATED” plusTol=“0.03” minusTol=“0.03”> 
            <Location x=“114.9500" y="37.3750”/> 
            <Circle diameter=“5.0”/> 
</SlotCavity> 
```

The  physical net of a pin could be described:

```xml
<PhyNet name="IC1_A1"> 
            <PhyNetPoint x="76.5000" y="109.2500" layerRef="L2" netNode="MIDDLE" exposure="COVERED"  
                                                                                                                                                         via="false"> 
              <StandardPrimitiveRef id="CIRCLE_1"/> 
</PhyNetPoint> 
```



#### 8.2.3.7.2.2 Face Down, Mirrored
Formed the same way as for IC1 then the whole laminate is inverted. The stackup has the same structure as IC1. The cavity in D3 is formed the same way as for D2 above.  
The component definition could be described:

```xml
<Component refDes="IC2" packageRef="BGA123" layerRef="L3" part="TA46898-0107F1" 
mountType="EMBEDDED" standoff="0.0" height="1.1000"> 
<Xform rotation="0.0" mirror="true"/> 
<Location x="114.9500" y="37.3750"/> 
<SlotCavityRef id="D3_CUT"/> 
</Component> 
```

And a physical net of a pin could be described:

```xml
<PhyNet name="IC2_C3"> 
<PhyNetPoint x="76.5000" y="109.2500" layerRef="L3" netNode="MIDDLE" exposure="COVERED" 
via="false"> 
<StandardPrimitiveRef id="CIRCLE_1"/> 
</PhyNetPoint> 
```

#### 8.2.3.7.2.3 Face Up, Not Mirrored
Component IC3 is turned face up and adhered to layer L6, positioned accurately in the X-Y plane. Prepreg layer(s) D6  with a pre-drilled hole, is placed to form a cavity around IC3. The cavity is  closed with filler material and another prepreg layer D5 is placed on top.  A laser drill, with a frequency that cuts through dielectric but not copper, is used to create holes to the pins of  IC3, which are plated to form micro vias to the pins. The exact depth (z axis dimension) of the pins is not required, and may be diffcult to know anyway once the laminate is pressed. Only the precise x & y location of the embedded pins are required.  
The stackup has the same structure as IC1. The cavity in D6 is formed the same way as for D2 above.  
The component definition could be described:

```xml
<Component refDes="IC3" packageRef="BGA123" layerRef="L6" part="TA46898-0107F1" mountType="EMBEDDED" 
standoff="0.0" height="1.1000"> 
<Xform rotation="0.0" mirror="false" faceUp="true"/> 
<Location x="114.9500" y="37.3750"/> 
<SlotCavityRef id="D6_CUT"/> 
</Component> 
```

And a physical net of a pin could be described as follows. As I say the exact z dimension is not required, so just saying what prepreg layer it lies within is sufficient.  

```xml
<PhyNet name="IC3_4"> 
<PhyNetPoint x="76.5000" y="109.2500" layerRef="D5_6" netNode="MIDDLE" 
exposure="COVERED" via="false"> 
<StandardPrimitiveRef id="CIRCLE_1"/> 
</PhyNetPoint> 
```

#### 8.2.3.7.2.4 Face Up, Mirrored
Formed the same way as for IC3 then the whole laminate is inverted. The stackup has the same structure as IC1. The cavity in D7 is formed the same way as for D2 above.  
The component definition could be described:

```xml
<Component refDes="IC4" packageRef="BGA123" layerRef="L7" part="TA46898-0107F1" 
mountType="EMBEDDED" standoff="0.0" height="1.1000"> 
<Xform rotation="0.0" mirror="true" faceUp="true"/> 
<Location x="114.9500" y="37.3750"/> 
<SlotCavityRef id="D6_CUT"/> 
</Component> 
```

And a physical net of a pin could be described:

```xml
<PhyNet name="IC4_B7"> 
<PhyNetPoint x="76.5000" y="109.2500" layerRef="D7_8" netNode="MIDDLE" 
exposure="COVERED" via="false"> 
<StandardPrimitiveRef id="CIRCLE_1"/> 
</PhyNetPoint> 
```

#### 8.2.3.7.2.5 Placed On Dielectric Base
In the case where the component is not placed on a copper layer, so it ‘floats’ in the dielectric, but it is placed on a prepreg ‘base’ layer then other prepreg layers built up around it. The cavity in D10 is formed the same way as for D2 above.  
The component definition could be described:

```xml
<Component refDes="IC5" packageRef="BGA123" layerRef="D11" part="TA46898-0107F1" 
mountType="EMBEDDED" standoff="0.0" height="1.1000"> 
<Xform rotation="0.0" mirror="false" faceUp="false"/> 
<Location x="114.9500" y="37.3750"/> 
<SlotCavityRef id="D10_CUT"/> 
</Component> 
```


And a physical net of a pin could be described:

```xml
<PhyNet name="IC5_64"> 
<PhyNetPoint x="76.5000" y="109.2500" layerRef="D9_11" netNode="MIDDLE" 
                   exposure="COVERED" via="false"> 
              <StandardPrimitiveRef id="CIRCLE_1"/> 
</PhyNetPoint> 
```

#### 8.2.3.7.2.6 Placed in Cavity Drilled To Given Depth
A cavity is drilled to a given depth, z, in a pre-formed dielectric laminate D12_14.  Once D12 thru D14 are pressed together, and given the tolerance of the depth, it is not known for certain in which dielectric layer (D12 thru D14) the cavity floor lies. So the component is said to be placed on the laminate layer D12_14. This, together with the cavity definition in a coincident location, as referenced by SlotCavityRef, defines the component placement in all 3 dimensions.

```xml
<Component refDes="IC6" packageRef="BGA123" layerRef="D12_14" part="TA46898-0107F1" 
                    mountType="EMBEDDED" standoff="0.0" height="1.1000"> 
          <Xform rotation="0.0" mirror="false" faceUp="true"/> 
          <Location x="114.9500" y="37.3750"/> 
    <SlotCavityRef id="D12_14_CUT"/> 
</Component> 
```

In this case the routing layer for the cavity, say Route_D2, would NOT be defined with a span:

```xml
<Layer name=“Route_D2” layerFunction=“ROUT” side=“NONE” polarity=“POSITIVE”> 
</Layer> 
```

Instead the SlotCavity, defined as a LayerFeature->Set of the route layer, would contain a MaterialCut child element, defining the properties of the cut  

```xml
<SlotCavity name=“D12_14_CUT” platingStatus=“NONPLATED” plusTol=“0.03” 
                                                  minusTol=“0.03”> 
<Location x=“114.9500" y="37.3750”/> 
<RectCenter width="2.3" height="1.5"/> 
<MaterialCut depth=“0.15” startCutLayer=“D12” direction=“DOWN” 
          plusTol=“0.02” minusTol=“0.02”/> 
</SlotCavity> 
```

The  physical net of a pin could be described:

```xml
<PhyNet name="IC6_A1"> 
            <PhyNetPoint x="76.5000" y="109.2500" layerRef="D12_14" netNode="MIDDLE" 
                                           exposure="COVERED" via="false"> 
               <StandardPrimitiveRef id="CIRCLE_1"/> 
            </PhyNetPoint> 
```



### 8.2.3.7.3 Wire Bonded Components
The component IC8 is placed face up in a cavity drilled to a given depth z from the top surface. The mountType is WIRE_BONDED.

```xml
<Component refDes="IC8" packageRef="BGA123" layerRef="D15_17" part="DEF" 
mountType="WIRE_BONDED" height="1.1000"> 
<Xform rotation="0.0" mirror="false" faceUp="true"/> 
<Location x="114.9500" y="37.3750"/> 
<SlotCavityRef id="D15_17_CUT"/> 
</Component> 
```

The SlotCavityRef in the Component Definition and the cut from the TOP layer to depth z at the coincident location to ensure the component is placed correctly in the cavity.

```xml
<SlotCavity name=“D12_14_CUT” platingStatus=“NONPLATED” plusTol=“0.03” minusTol=“0.03”> 
<Location x=“114.9500" y="37.3750”/> 
<RectCenter width="2.3" height="1.5"/> 
<MaterialCut depth=“0.36” startCutLayer=“TOP” direction=“DOWN” plusTol=“0.01” minusTol=“0.01”/> 
</SlotCavity> 
```

The  physical net of a pin could be described:

```xml
<PhyNet name="IC8_24"> 
<PhyNetPoint x="76.5000" y="109.2500" layerRef="D15_17" netNode="MIDDLE" 
exposure="COVERED" via="false"> 
<StandardPrimitiveRef id="CIRCLE_1"/> 
</PhyNetPoint> 
```

### 8.2.3.7.4 Formed Components
The following are examples of how formed components, created utilizing printing (thick-film) or etching (thin film) processes, can be described in IPC-2581.

#### 8.2.3.7.4.1 Etched Components
The above image represents a resistor created by sequential etching of a thin-film laminate of resistive material (black) and copper foil (orange), on a dielectric base (blue). The resistive material would be defined as a layer with layerFunction COMPONENT_FORMED:

```xml
<Layer name=“F1” layerFunction=“COMPONENT_FORMED” side=“NONE” polarity=“POSITIVE”/> 
```

The thin-film laminate could be represented as a StackupGroup, which has a SpecRef referencing the laminate material:  

```xml
                <StackupGroup name=“thin-film-lam” thickness="0.2079" tolPlus="5" tolMinus="5" tolPercent=”true”> 
<StackupLayer layerOrGroupRef=“L2” thickness="0.0559"/ 
                      <StackupLayer layerOrGroupRef=“F1” thickness="0.152"/> 
            <SpecRef id=”laminate_material”/> 
                 </StackupGroup> 
```

Or the resistive material could simply be a standalone layer defined below the copper layer in the CAD tool.

The pin pads of the component would be defined within a library package in the CAD tool, so that when placed the pads would become etched features on the copper layer, L2 in our example. The component instantiation would have a mountType of “FORMED”:

```xml
<Component refDes="CF1" packageRef="formed1" layerRef="L2" part="XZY" mountType="FORMED"> 
              <Location x="32.76" y="134.00"/> 
</Component> 
```

The resistive element would be a rectangular layer feature in this example (but in reality could be a serpentined or other complex shape) etched onto the resistive layer, with a componentRef referencing the etched component, CF1. Its location would be that same as that of the component origin.

```xml
<LayerFeature layerRef="F1"> 
<Set componentRef=”CF1”> 
  <Features> 
<RectCenter width = "1.2" height = "0.6"/> 
<Location x=”32.76” y=”134.00”/> 
          </Features> 
        </Set> 
</LayerFeature> 
```

If possible the resistive layer feature could be added to the component library definition, so feature and pads could be moved as one.

#### 8.2.3.7.4.2 Printed Components

The above image represents an annular resistor formed by (screen) printing a resistive material (blue) over a copper plane (orange). There is a dielectric layer (green) below the plane. A donut shaped cutout is etched into the plane, and the exposed dielectric is then printed over with the resistive material. A via is drilled through the central pad.

The resistive material would be defined as a layer with layerFunction COMPONENT_FORMED:

```xml
<Layer name=“F2” layerFunction=“COMPONENT_FORMED” side=“NONE” polarity=“POSITIVE”/> 
```

This layer would be defined above the plane layer in the stackup:

```xml
<StackupLayer layerOrGroupRef="F2" thickness="0.001" tolPlus="10" tolMinus="10" tolPercent=”true”> 
<SpecRef id="Print_Material "/> 
</StackupLayer> 
<StackupLayer layerOrGroupRef="PLANE" thickness="0.0508" tolPlus="10" tolMinus="10" tolPercent=”true”> 
<SpecRef id="SPEC_LAYER_TOP"/> 
</StackupLayer>  
<StackupLayer layerOrGroupRef="DIEL1" thickness="0.152" tolPlus="10" tolMinus="10" tolPercent=”true”> 
<SpecRef id="SPEC_LAYER_DIEL1"/> 
</StackupLayer>  
```

A circular cut-out would be made in the plane:

```xml
<LayerFeature layerRef="PLANE"> 
<Set> 
  <Features> 
    <Contour> 
      # Polygon defining the outline of the plane goes here # 
<Cutout> 
  <Polybegin x=”5” y=”3”> 
  <PolyStepCurve x="1" y="3" centerX="3" centerY="3" clockwise="false"/> 
<PolyStepCurve x="5" y="3" centerX="3" centerY="3" clockwise="false"/> 
              </CutOut> 
            </Contour> 
          </Features> 
        </Set> 
</LayerFeature> 
```

The component would be placed in the same location as the cutout. Its package would contain a central pad that would be placed in the center of the cutout, and a concentric annular ring pad that would be placed outside the cutout and so merge with surrounding plane. The component instantiation would have a mountType of “FORMED”:

```xml
<Component refDes="CF2" packageRef="formed2" layerRef="L2" part="ABC" mountType="FORMED"> 
              <Location x="3" y="3"/> 
</Component> 
```

The resistive material layer (above the plane layer) would contain a donut shape in the same location as the component, which would reference the component:

```xml
<LayerFeature layerRef="F2"> 
<Set componentRef=”CF2”> 
  <Features> 
<Donut shape = "ROUND" outerDiameter = "4" innerDiameter = "2"/> 
<Location x=”3” y=”3”/> 
          </Features> 
        </Set> 
</LayerFeature> 
```

If possible the resistive layer feature could be added to the component library definition, so feature and pads could be moved as one.



### 8.2.3.7.5 Coins
Consider the above example cross section of a thermal relief coin, refDes CD1, in a PCB substrate. The coin is a ‘hat’ shape, made up of 2 concentric cylinders, as shown:  
Two SlotCavity features, SC1 & SC2, would be required to create the overall cavity for the coin to fit into. Each of these would require their own routing layer with a unique layer span. The tweo features would have the same location, and could reference the coin:

Layer definition of Route_SC2:

```xml
<Layer name=”Route_ SC2” layerFunction=”ROUT” side=”NONE” polarity=”POSITIVE”> 
<Span fromLayer=”D2” toLayer=”D2”/> 
</Layer> 
```

Layer Feature defined on layer Route_ SC2:

```xml
<LayerFeature layerRef="Route_ SC2"> 
<Set componentRef=”CD1”> 
<SlotCavity name=”SC2” platingStatus=”NONPLATED” plusTol=”0.05” minusTol=”0.05”> 
<Location x=”15.894” y =”18.713”/> 
<Circle diameter=”40”/> 
</ SlotCavity > 
</Set> 
</LayerFeature> 
```

Layer definition of Route_SC1:

```xml
<Layer name=”Route_SC1” layerFunction=”ROUT” side=”NONE” polarity=”POSITIVE”> 
<Span fromLayer=”L1” toLayer=”D1”/> 
</Layer> 
```

Layer Feature defined on layer Route_ SC2:

```xml
<LayerFeature layerRef="Route_ SC2"> 
<Set componentRef=”CD1”> 
<SlotCavity name=”SC2” platingStatus=”NONPLATED” plusTol=”0.05” minusTol=”0.05”> 
<Location x=”15.894” y =”18.713”/> 
<Circle diameter=”20”/> 
</ SlotCavity > 
</Set> 
``` 
 
</LayerFeature> 


A Model could be defined to describe the shape and dimensions of the coin:

```xml
<Model name=”Coin”>  
<SpecRef id=”CoinMaterial”/>  
<Extrusion startingHeight=”0’ height=”5”>  
<Circle diameter="40"/> 
<Location x=”0.00” y=”0.00”/> 
</Extrusion> 
<Extrusion startingHeight=”5’ height=”3”>  
<Circle diameter="20"/> 
<Location x=”0.00” y=”0.00”/> 
</Extrusion> 
</Model> 
```

Then the Component could reference both the Model and the SlotCavity. It could be glued to layer D3, and would share the same location as both SlotCavity features. Only one needs to be referenced.

```xml
<Component refDes="CD1" layerRef="D3" part="Order#3521" mountType="GLUED" modelRef=”Coin”> 
<Location x=”15.894” y =”18.713”/> 
<SlotCavityRef id="SC1"/> 
</Component> 
```

Note that the component IC1 would not have a SlotCavityRef since it is not placed inside the cavity.  
