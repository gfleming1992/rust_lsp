# 8.2.1 Layer

The `Layer` element describes the characteristics of specific layers. Layers may be for the board or assembly, and may represent individual characterization, board fabrication panels, assembly pallets, documentation, tooling, or miscellaneous functions. The `layerFunction` attribute helps identify the purpose of the layer.

## Attribute Table

| Attribute / Element Name | Attribute / Element Type | Description | Occurrence |
|-------------------------|-------------------------|-------------|------------|
| Layer                   | LayerType               | Contains different layer information represented in the CAD database describing the electronic assembly to be manufactured. | 1-n |
| name                    | qualifiedNameType       | Identification of the layer. If `layerFunction` is STACKUP_COMPOSITE, the name must match the related Stackup element. | 1-1 |
| layerFunction           | layerFunctionType       | Type and main use of the layer, such as: ASSEMBLY, BOARDFAB, BOARD_OUTLINE, CAPACITIVE, COATINGCOND, COATINGNONCOND, COMPONENT, COMPONENT_BOTTOM, COMPONENT_TOP, COMPONENT_EMBEDDED, COMPONENT_FORMED, CONDFILM, CONDFOIL, CONDUCTIVE_ADHESIVE, CONDUCTOR, COURTYARD, DIELBASE, DIELCORE, DIELPREG, DIELADHV, DIELBONDPLY, DIELCOVERLAY, DOCUMENT, DRILL, FIXTURE, GLUE, GRAPHIC, HOLEFILL, SOLDERBUMP, PASTEMASK, LANDPATTERN, LEGEND, MIXED, OTHER, PIN, PLANE, PROBE, RESISTIVE, SIGNAL, SILKSCREEN, SOLDERMASK, SOLDERPASTE, STACKUP_COMPOSITE, REWORK, ROUT, V_CUT, EDGE_CHAMFER, EDGE_PLATING, THIEVING_KEEP_INOUT, STIFFENER. | 1-1 |
| side                    | sideType                | Defines the side of the layer: TOP, BOTTOM, BOTH, INTERNAL, ALL, NONE. | 1-1 |
| polarity                | polarityType            | For signal, power/ground, or mixed layers: POSITIVE (features represent copper) or NEGATIVE (features represent laminate). Default is POSITIVE. | 1-1 |
| SpecRef                 | SpecRefType             | Reference to specifications providing additional details or instructions, linked by `specificationId`. | 0-n |
| Span                    | SpanType                | For drill/route layers that are buried or blind, represents start/end board layers. Not included for through-board drills. | 0-1 |
| Profile                 | ContourType             | One or more outlines caused by stackup cross-section variations in rigid-flex designs. Absence indicates the main profile defined in the Step should be referenced. | 0-n |

## Layer and Step Relationship

There is a close relationship between Layer and Step elements in IPC-2581. Step elements and their attributes correlate with the `layerFunction` attribute of each layer. Steps are grouped by purpose, typically using the step name attribute, with recommended organizational structures:

- **BOARD**: Graphics of the board itself
- **BOARDPANEL**: Graphics of the board panel
- **ASSEMBLY**: Graphics of the assembly
- **ASSEMBLYPALLET**: Graphics of the assembly pallet
- **DOCUMENTATION**: Documentation of the board or assembly
- **TOOLING**: Tooling used on the board or assembly
- **COUPON**: Test coupons embedded in the design
- **MISCELLANEOUS**: Remaining steps not covered above

Step elements should relate to layer descriptions identified by mandatory attributes: name, layerFunction, side, and polarity. Due to the `layerRef` attributes of several Step elements, Table 5 in IPC-2581 shows all possible combinations of layerFunction attributes and their characteristics, including links to Bill of Material designations (MatDes, DocDes, RefDes, ToolDes).

## Table 5: Step Elements to Layer Attribute Recommendations

_Key: A = TOP, B = BOTTOM, C = INTERNAL, D = OTHER, 1 = POSITIVE, 2 = NEGATIVE_

| Layer Function                | Side         | Polarity | Bill of Material Designation |
|-------------------------------|-------------|----------|-----------------------------|
| CAPACITIVE                    | C           | 1        | MatDes                      |
| COATINGCOND                   | A &#124; B &#124; C | 1        | MatDes                      |
| COATINGNONCOND                | A &#124; B &#124; C | 1        | MatDes                      |
| COMPONENT_FORMED              | A &#124; B &#124; C | 1        | MatDes                      |
| CONDFILM                      | A &#124; B &#124; C | 1        | MatDes                      |
| CONDFOIL                      | A &#124; B &#124; C | 1        | MatDes                      |
| CONDUCTOR                     | A &#124; B &#124; C | 1        | MatDes                      |
| CONDUCTIVE_ADHESIVE           | C           | 1        | MatDes                      |
| DIELBASE                      | C           | 1        | MatDes                      |
| DIELCORE                      | C           | 1        | MatDes                      |
| DIELPREG                      | C           | 1        | MatDes                      |
| DIELADHV                      | C           | 1        | MatDes                      |
| DIELBONDPLY                   | C           | 1        | MatDes                      |
| DIELCOVERLAY                  | A &#124; B  | 1        | MatDes                      |
| GLUE                          | A &#124; B  | 1        | MatDes                      |
| HOLEFILL                      | A &#124; B  | 1        | MatDes                      |
| LEGEND                        | A &#124; B &#124; C | 1        | MatDes                      |
| MIXED                         | A &#124; B  | 1 &#124; 2| MatDes                      |
| PASTEMASK                     | A &#124; B &#124; C | 1        | MatDes                      |
| PLANE                         | C           | 1        | MatDes                      |
| RESISTIVE                     | A &#124; B &#124; C | 1        | MatDes                      |
| SIGNAL                        | A &#124; B  | 1        | MatDes                      |
| SILKSCREEN                    | D           | 1        | MatDes                      |
| STACKUP_COMPOSITE             | A &#124; B  | 1        | MatDes                      |
| SOLDERBUMP                    | A &#124; B  | 1        | MatDes                      |
| SOLDERMASK                    | A &#124; B  | 1        | MatDes                      |
| SOLDERPASTE                   | A &#124; B  | 1        | MatDes                      |
| EDGE_PLATING                  | A &#124; B  | 1        | MatDes                      |
| STIFFENER                     | A &#124; B  | 1        | MatDes                      |
| DRILL                         | A &#124; B  | 1        | ToolDes                     |
| FIXTURE                       | A &#124; B  | 1        | ToolDes                     |
| ROUTE                         | A &#124; B  | 1        | ToolDes                     |
| SCORE                         | A &#124; B  | 1        | ToolDes                     |
| PROBE                         | A &#124; B  | 1        | ToolDes                     |
| V_CUT                         | A &#124; B  | 1        | ToolDes                     |
| EDGE_CHAMFER                  | A &#124; B  | 1        | ToolDes                     |
| ASSEMBLY                      | A &#124; B  | 1        | DocDes                      |
| BOARD_FAB                     | ?           | 1        | DocDes                      |
| BOARD_OUTLINE                 | A           | 1        | DocDes                      |
| COMPONENT_TOP                 | A           | 1        | DocDes                      |
| COMPONENT_BOTTOM              | B           | 1        | DocDes                      |
| COMPONENT_EMBEDDED            | C           | 1        | DocDes                      |
| COURTYARD                     | A &#124; B  | 1        | DocDes                      |
| DOCUMENT                      | A &#124; B &#124; C | 1        | DocDes                      |
| GRAPHIC                       | A &#124; B &#124; C | 1        | DocDes                      |
| LANDPATTERN                   | A &#124; B &#124; C | 1        | DocDes                      |
| REWORK                        | A &#124; B &#124; C | 1        | DocDes                      |
| THIEVING_KEEP_INOUT           | A &#124; B  | 1        | DocDes                      |


When combining BOARD and COUPON steps on the same PANEL, layer construction must be identical for all elements instantiated on the panel, ensuring consistent layering (top layer is identical for all referenced steps). Viewers should display graphical features and store layer polarity as an attribute.

